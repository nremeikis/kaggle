_id: spc_4dcab05d06f344a58648c907c5d5d13f
type: ApiSpec
parentId: wrk_7c48346b179746418dac3af74bc879fe
modified: 1659595875748
created: 1659593370653
fileName: my-spec.yaml
contents: '{"openapi":"3.0.1","info":{"title":"OpenAPI
  definition","version":"v0"},"servers":[{"url":"http://coface.default:8080","description":"Generated
  server
  url"}],"paths":{"/internal/api/v2/coface/company-data/latest/finances":{"get":{"tags":["coface-finance-controller"],"summary":"Get
  latest company financials by
  code","operationId":"getCompanyFinancialsByCompanyCode","parameters":[{"name":"companyCode","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal
  Server
  error","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FinancialsResponse"}}}}},"404":{"description":"Latest
  company financials is not yet
  ready","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FinancialsResponse"}}}}},"200":{"description":"Latest
  company
  financials","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FinancialsResponse"}}}}}}},"post":{"tags":["coface-finance-controller"],"summary":"Request
  new
  XML","operationId":"requestNewXml","parameters":[{"name":"companyCode","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"202":{"description":"New
  XML registered"},"404":{"description":"Company not
  found"},"500":{"description":"Internal Server
  error"}}}},"/internal/api/v1/update-company-data":{"post":{"tags":["internal-controller"],"summary":"Initiate
  existing company data update
  job","operationId":"updateExistingCompanyData","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateExistingCompanyRequest"}}},"required":true},"responses":{"500":{"description":"Internal
  Server error"},"204":{"description":"Update is
  finished"}}}},"/internal/api/v1/parse-zips":{"post":{"tags":["internal-controller"],"summary":"Initiate
  zip parsing
  job","operationId":"parseZip","responses":{"500":{"description":"Internal
  Server error"},"204":{"description":"Parsing is
  finished"}}}},"/internal/api/v1/parse-queue":{"post":{"tags":["internal-controller"],"summary":"Initiate
  queued company parsing
  job","operationId":"parseQueuedCompanyCodes","responses":{"204":{"description":"Job
  is finished"},"500":{"description":"Internal Server
  error"}}}},"/api/v2/coface":{"get":{"tags":["coface-controller"],"summary":"Get
  list of statuses of requested
  XMLs","operationId":"getStatuses","parameters":[{"name":"searchRequest","in":"query","required":true,"schema":{"$ref":"#/components/schemas/CofaceXmlSearchRequest"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"500":{"description":"Internal
  Server
  error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCofaceXmlResponse"}}}},"200":{"description":"List
  of XML
  statuses","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCofaceXmlResponse"}}}}}},"post":{"tags":["coface-controller"],"summary":"Get
  XML
  status","operationId":"getNewXml","parameters":[{"name":"companyCode","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Company
  not
  found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CofaceXmlResponse"}}}},"500":{"description":"Internal
  Server
  error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CofaceXmlResponse"}}}},"200":{"description":"New
  or existing XML
  status","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CofaceXmlResponse"}}}}}}},"/api/v2/coface/multiple-company-queue":{"post":{"tags":["coface-controller"],"summary":"Enqueue
  multiple company codes to be
  queried","operationId":"queueCompanyCodes","requestBody":{"content":{"application/json":{"schema":{"required":["file","username"],"type":"object","properties":{"file":{"type":"string","format":"binary"},"username":{"type":"string"}}}}}},"responses":{"422":{"description":"Incorrect
  multipart file"},"202":{"description":"Queue items have been
  accepted"},"500":{"description":"Internal Server
  error"}}}},"/internal/api/v2/coface/company-data/latest/finances:exists":{"get":{"tags":["coface-finance-controller"],"summary":"Check
  whether latest company financials exist by company
  code","operationId":"checkCompanyFinancialsByCompanyCode","parameters":[{"name":"companyCode","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal
  Server
  error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FinancialsExistenceResponse"}}}},"200":{"description":"Existence
  of latest company
  financials","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FinancialsExistenceResponse"}}}}}}},"/api/v2/coface/{id}":{"get":{"tags":["coface-controller"],"summary":"Get
  XML
  status","operationId":"getXmlStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"404":{"description":"XML
  status not
  found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CofaceXmlResponse"}}}},"200":{"description":"XML
  status","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CofaceXmlResponse"}}}},"500":{"description":"Internal
  Server
  error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CofaceXmlResponse"}}}}}}},"/api/v2/coface/{id}/company-data":{"get":{"tags":["coface-controller"],"summary":"Get
  company data by specific XML
  ID","operationId":"getCompanyDataByXmlId","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"404":{"description":"XML
  status not found or company data is not yet
  ready","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompanyDataResponse"}}}},"200":{"description":"Company
  data","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompanyDataResponse"}}}},"500":{"description":"Internal
  Server
  error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompanyDataResponse"}}}}}}},"/api/v2/coface/{id}/company-data/bankruptcy-prediction":{"get":{"tags":["coface-controller"],"summary":"Get
  company bankruptcy prediction by specific XML
  ID","operationId":"getCompanyBankruptcyPredictionByXmlId","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"404":{"description":"XML
  status not found or company data is not yet
  ready","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BankruptcyResponse"}}}},"500":{"description":"Internal
  Server
  error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BankruptcyResponse"}}}},"200":{"description":"Bankruptcy
  prediction","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BankruptcyResponse"}}}}}}},"/api/v2/coface/company-data/latest":{"get":{"tags":["coface-controller"],"summary":"Get
  latest company data by
  code","operationId":"getCompanyDataByCompanyCode","parameters":[{"name":"companyCode","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal
  Server
  error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompanyDataResponse"}}}},"200":{"description":"Latest
  company
  data","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompanyDataResponse"}}}},"404":{"description":"Latest
  company data does not
  exist","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompanyDataResponse"}}}}}}},"/api/v2/coface/company-data/latest/bankruptcy-prediction":{"get":{"tags":["coface-controller"],"summary":"Get
  latest company bankruptcy
  prediction","operationId":"getLatestCompanyBankruptcyPrediction","parameters":[{"name":"companyCode","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Latest
  bankruptcy
  prediction","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BankruptcyResponse"}}}},"500":{"description":"Internal
  Server
  error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BankruptcyResponse"}}}},"404":{"description":"Latest
  company data does not
  exist","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BankruptcyResponse"}}}}}}},"/api/v1/coface/{companyCode}":{"get":{"tags":["coface-integration-controller"],"summary":"Get
  company bankruptcy
  score","operationId":"getCompanyScore","parameters":[{"name":"companyCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Not
  found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompanyScoreResponse"}}}},"500":{"description":"Internal
  Server
  error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompanyScoreResponse"}}}},"200":{"description":"Successful
  operation","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CompanyScoreResponse"}}}}}}}},"components":{"schemas":{"UpdateExistingCompanyRequest":{"required":["xmlPathParts"],"type":"object","properties":{"xmlPathParts":{"type":"array","items":{"type":"string","enum":["GENERAL","LEGAL_STATUS","MANAGEMENT","EVENT","OWNERSHIPS","ASSOCIATIONS","DOCUMENTS","SODRA","COMPANY_TIMELINE","FINANCES","FINANCE_REPORTS","COMPANY_STOCK","SCORE_DATA","CAPITAL_HISTORY_LINE","IMPORTANT_NOTE","TAR_RECORD","COFACE_DEBT","SP3_DEBTS","COURT_CASES"]}}}},"CofaceXmlResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"companyCode":{"type":"string"},"fileName":{"type":"string"},"status":{"type":"string","enum":["NEW","PARSED","FAILED","RERUN"]},"createdAt":{"type":"string","format":"date-time"},"failureReason":{"type":"string"}}},"FinancialsResponse":{"type":"object","properties":{"year":{"type":"object","properties":{"value":{"type":"integer","format":"int32"},"leap":{"type":"boolean"}}},"financialItems":{"type":"array","items":{"$ref":"#/components/schemas/FinancialsResponseItem"}},"fourLeafItems":{"type":"array","items":{"$ref":"#/components/schemas/FourLeafResponseItem"}}}},"FinancialsResponseItem":{"type":"object","properties":{"type":{"type":"string","enum":["BALANCE_SHEET","BALANCE_SHEET_ADDITIONAL_DATA","PROFIT_LOSS","PROFIT_LOSS_ADDITIONAL_DATA"]},"balanceCode":{"type":"string"},"value":{"type":"number"}}},"FourLeafResponseItem":{"type":"object","properties":{"criterion":{"type":"string"},"value":{"type":"number"}}},"FinancialsExistenceResponse":{"type":"object","properties":{"exists":{"type":"boolean"}}},"CofaceXmlSearchRequest":{"type":"object","properties":{"companyCode":{"type":"string"}}},"Pageable":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/Sort"},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"}}},"Sort":{"type":"object","properties":{"empty":{"type":"boolean"},"unsorted":{"type":"boolean"},"sorted":{"type":"boolean"}}},"PageCofaceXmlResponse":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/CofaceXmlResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/Sort"},"pageable":{"$ref":"#/components/schemas/Pageable"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"AssociationResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"statusCode":{"type":"string"},"companyCode":{"type":"string"},"duns":{"type":"string"},"reference":{"type":"string"},"fullName":{"type":"string"},"address":{"type":"string"},"countryCode":{"type":"string"},"linkCode":{"type":"string"},"revisitedDate":{"type":"string","format":"date"}}},"CofaceDebtResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"date":{"type":"string","format":"date"},"amount":{"type":"number"},"currency":{"type":"string"},"caseDisputed":{"type":"boolean"}}},"CompanyDataResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"productCode":{"type":"string"},"companyCode":{"type":"string"},"currency":{"type":"string"},"chargedValue":{"type":"number"},"bankrupt":{"type":"boolean"},"bankruptDate":{"type":"string","format":"date"},"reportDate":{"type":"string","format":"date"},"generalData":{"$ref":"#/components/schemas/GeneralDataResponse"},"legalStatuses":{"type":"array","items":{"$ref":"#/components/schemas/LegalStatusHistoryResponse"}},"scores":{"type":"array","items":{"$ref":"#/components/schemas/ScoreResponse"}},"managements":{"type":"array","items":{"$ref":"#/components/schemas/ManagementResponse"}},"sodraDebts":{"type":"array","items":{"$ref":"#/components/schemas/SodraDebtResponse"}},"timeLines":{"type":"array","items":{"$ref":"#/components/schemas/TimeLineResponse"}},"ownerships":{"type":"array","items":{"$ref":"#/components/schemas/OwnershipResponse"}},"documents":{"type":"array","items":{"$ref":"#/components/schemas/DocumentResponse"}},"associations":{"type":"array","items":{"$ref":"#/components/schemas/AssociationResponse"}},"financeReports":{"type":"array","items":{"$ref":"#/components/schemas/FinanceReportResponse"}},"finances":{"type":"array","items":{"$ref":"#/components/schemas/FinanceResponse"}},"shareCapitalDataList":{"type":"array","items":{"$ref":"#/components/schemas/ShareCapitalDataResponse"}},"companyStocks":{"type":"array","items":{"$ref":"#/components/schemas/CompanyStockResponse"}},"importantNotes":{"type":"array","items":{"$ref":"#/components/schemas/ImportantNoteResponse"}},"tarRecords":{"type":"array","items":{"$ref":"#/components/schemas/TarRecordResponse"}},"cofaceDebts":{"type":"array","items":{"$ref":"#/components/schemas/CofaceDebtResponse"}},"sp3Debts":{"type":"array","items":{"$ref":"#/components/schemas/Sp3DebtResponse"}},"courtCourtCases":{"type":"array","items":{"$ref":"#/components/schemas/CourtCaseResponse"}}}},"CompanyStockResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"type":{"type":"string"},"value":{"type":"number"},"unit":{"type":"string"}}},"CourtCaseResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"dates":{"type":"array","items":{"type":"string","format":"date"}},"uniqueIdentityKey":{"type":"string"},"type":{"type":"string"},"content":{"type":"string"},"courtParticipants":{"type":"array","items":{"$ref":"#/components/schemas/CourtParticipantResponse"}},"courtCaseResults":{"type":"array","items":{"$ref":"#/components/schemas/CourtCaseResultResponse"}}}},"CourtCaseResultResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"courtName":{"type":"string"},"result":{"type":"string"}}},"CourtParticipantResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"code":{"type":"string"},"name":{"type":"string"},"salType":{"type":"string"}}},"DocumentResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"document":{"type":"string"},"date":{"type":"string","format":"date"}}},"FinanceReportResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"activityCategory":{"type":"string"},"reportNumber":{"type":"string"},"reportFrom":{"type":"string","format":"date"},"reportTo":{"type":"string","format":"date"},"category":{"type":"string"},"year":{"type":"integer","format":"int32"},"summaryNumber":{"type":"string"}}},"FinanceResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"fsFormat":{"type":"string"},"finId":{"type":"string"},"finDataset":{"type":"string"},"currency":{"type":"string"},"finYear":{"type":"integer","format":"int32"},"finDateFrom":{"type":"string","format":"date"},"finDateTill":{"type":"string","format":"date"},"dateDeliveredRc":{"type":"string","format":"date"},"financeSheets":{"type":"array","items":{"$ref":"#/components/schemas/FinanceSheetResponse"}}}},"FinanceSheetResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"type":{"type":"string","enum":["BALANCE_SHEET","PROFIT_LOSS"]},"balanceCode":{"type":"string"},"name":{"type":"string"},"value":{"type":"number"},"previousValue":{"type":"number"}}},"GeneralDataResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"countryCode":{"type":"string"},"registrationNumber":{"type":"string"},"businessName":{"type":"string"},"registrarName":{"type":"string"},"legalStatus":{"type":"string"},"legalFormName":{"type":"string"},"legalFormCode":{"type":"string"},"legalFormSubtypeCode":{"type":"string"},"legalAddress":{"$ref":"#/components/schemas/LegalAddressResponse"},"registrationDate":{"type":"string","format":"date"},"deletionDate":{"type":"string","format":"date"},"currentNumberOfEmployees":{"type":"integer","format":"int32"},"dateRegisteredCurrentNumberEmployees":{"type":"string","format":"date"},"naceCode":{"type":"string"},"naceDescription":{"type":"string"},"naceDate":{"type":"string","format":"date"},"vatNumber":{"type":"string"},"vatFrom":{"type":"string","format":"date"}}},"ImportantNoteResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"source":{"type":"string"},"description":{"type":"string"},"rate":{"type":"integer","format":"int32"},"date":{"type":"string","format":"date"}}},"LegalAddressResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"fullAddress":{"type":"string"},"street":{"type":"string"},"village":{"type":"string"},"region":{"type":"string"},"smallTown":{"type":"string"},"postcode":{"type":"string"},"city":{"type":"string"},"municipality":{"type":"string"}}},"LegalStatusHistoryResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"statusName":{"type":"string"},"statusCode":{"type":"integer","format":"int32"},"statusFrom":{"type":"string","format":"date"},"statusTill":{"type":"string","format":"date"}}},"ManagementResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"reference":{"type":"string"},"uniqueRcId":{"type":"string"},"name":{"type":"string"},"surname":{"type":"string"},"positionDateFrom":{"type":"string","format":"date"},"positionDateTill":{"type":"string","format":"date"},"occupation":{"type":"string"},"positionActive":{"type":"boolean"},"dutiesCode":{"type":"string"},"factType":{"type":"string"},"factSubType":{"type":"string"}}},"OwnershipResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"typeCode":{"type":"string"},"statusCode":{"type":"string"},"fullName":{"type":"string"},"name":{"type":"string"},"surname":{"type":"string"},"address":{"type":"string"},"countryCode":{"type":"string"},"numberOfShares":{"type":"number"},"mainShareHolder":{"type":"boolean"},"revisitedDate":{"type":"string","format":"date"}}},"ScoreResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"score":{"type":"number"},"comment":{"type":"string"},"pdScore":{"type":"number"},"scoreDate":{"type":"string","format":"date"}}},"ShareCapitalDataResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"value":{"type":"number"},"currency":{"type":"string"},"dateFrom":{"type":"string","format":"date"},"dateTo":{"type":"string","format":"date"}}},"SodraDebtResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"currentSodraDebt":{"type":"number"},"date":{"type":"string","format":"date"}}},"Sp3DebtResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"invoiceDate":{"type":"string","format":"date"},"caseId":{"type":"string"},"caseDate":{"type":"string","format":"date"},"caseType":{"type":"string"},"caseTypeCode":{"type":"string"},"debtAmount":{"type":"number"},"debtCurrency":{"type":"string"},"coverageAmount":{"type":"number"},"coverageCurrency":{"type":"string"},"coverageDate":{"type":"string","format":"date"},"debtStatus":{"type":"string"},"debtStatusDate":{"type":"string","format":"date"},"debtStatusCode":{"type":"string"},"debtStatusComment":{"type":"string"},"debtCommentCode":{"type":"string"},"datePaidUp":{"type":"string","format":"date"},"dateCaseClosed":{"type":"string","format":"date"},"dateCaseRecorded":{"type":"string","format":"date"}}},"TarRecordResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"code":{"type":"string"},"value":{"type":"string"},"registeredDate":{"type":"string","format":"date"},"removedDate":{"type":"string","format":"date"}}},"TimeLineResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"month01":{"type":"integer","format":"int32"},"month02":{"type":"integer","format":"int32"},"month03":{"type":"integer","format":"int32"},"month04":{"type":"integer","format":"int32"},"month05":{"type":"integer","format":"int32"},"month06":{"type":"integer","format":"int32"},"month07":{"type":"integer","format":"int32"},"month08":{"type":"integer","format":"int32"},"month09":{"type":"integer","format":"int32"},"month10":{"type":"integer","format":"int32"},"month11":{"type":"integer","format":"int32"},"month12":{"type":"integer","format":"int32"},"year":{"type":"integer","format":"int32"},"timeLineCode":{"type":"string"},"timeLineName":{"type":"string"}}},"BankruptcyResponse":{"type":"object","properties":{"companyCode":{"type":"string"},"probabilityOfBankruptcy":{"type":"number"}}},"CompanyScoreResponse":{"type":"object","properties":{"companyCode":{"type":"string"},"probabilityOfBankruptcy":{"type":"number"}}}}}}'
contentType: yaml
